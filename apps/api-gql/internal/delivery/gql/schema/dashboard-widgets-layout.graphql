extend type Query {
	dashboardWidgetsLayout: [DashboardWidgetLayout!]! @isAuthenticated @hasAccessToSelectedDashboard
}

extend type Mutation {
	dashboardWidgetsLayoutUpdate(input: [DashboardWidgetLayoutInput!]!): [DashboardWidgetLayout!]!
		@isAuthenticated
		@hasAccessToSelectedDashboard
	dashboardWidgetsCreateCustom(input: DashboardWidgetCreateCustomInput!): DashboardWidgetLayout!
		@isAuthenticated
		@hasAccessToSelectedDashboard
	dashboardWidgetsUpdateCustom(input: DashboardWidgetUpdateCustomInput!): DashboardWidgetLayout!
		@isAuthenticated
		@hasAccessToSelectedDashboard
	dashboardWidgetsDelete(widgetId: String!): Boolean! @isAuthenticated @hasAccessToSelectedDashboard
}

extend type Subscription {
	dashboardWidgetsLayoutChanged: DashboardWidgetsLayoutChangedPayload!
		@isAuthenticated
		@hasAccessToSelectedDashboard
}

type DashboardWidgetsLayoutChangedPayload {
	layout: [DashboardWidgetLayout!]!
}

type DashboardWidgetLayout {
	id: ID!
	widgetId: String!
	x: Int!
	y: Int!
	w: Int!
	h: Int!
	minW: Int!
	minH: Int!
	visible: Boolean!
	# stacking
	stackId: String
	stackOrder: Int!
	# custom widgets
	type: DashboardWidgetType!
	customName: String
	customUrl: String
}

enum DashboardWidgetType {
	SYSTEM
	CUSTOM
}

input DashboardWidgetLayoutInput {
	widgetId: String!
	x: Int!
	y: Int!
	w: Int!
	h: Int!
	minW: Int!
	minH: Int!
	visible: Boolean!
	# stacking
	stackId: String
	stackOrder: Int!
}

input DashboardWidgetCreateCustomInput {
	name: String!
	url: String!
	x: Int!
	y: Int!
	w: Int!
	h: Int!
}

input DashboardWidgetUpdateCustomInput {
	widgetId: String!
	name: String!
	url: String!
}
