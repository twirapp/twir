extend type Query {
	dashboardWidgetsLayout: [DashboardWidgetLayout!]! @isAuthenticated @hasAccessToSelectedDashboard
}

extend type Mutation {
	dashboardWidgetsLayoutUpdate(input: [DashboardWidgetLayoutInput!]!): [DashboardWidgetLayout!]!
		@isAuthenticated
		@hasAccessToSelectedDashboard
}

extend type Subscription {
	dashboardWidgetsLayoutChanged: DashboardWidgetsLayoutChangedPayload!
		@isAuthenticated
		@hasAccessToSelectedDashboard
}

type DashboardWidgetsLayoutChangedPayload {
	layout: [DashboardWidgetLayout!]!
}

type DashboardWidgetLayout {
	id: ID!
	widgetId: String!
	x: Int!
	y: Int!
	w: Int!
	h: Int!
	minW: Int!
	minH: Int!
	visible: Boolean!
	# Stack support - widgets with same stackId are displayed as tabs
	stackId: String
	stackOrder: Int!
}

input DashboardWidgetLayoutInput {
	widgetId: String!
	x: Int!
	y: Int!
	w: Int!
	h: Int!
	minW: Int!
	minH: Int!
	visible: Boolean!
	# Stack support - widgets with same stackId are displayed as tabs
	stackId: String
	stackOrder: Int!
}
